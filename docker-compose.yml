---
# more information on docker and docker-compose: https://docs.docker.com
# hns: hide'n'seek

version: '2'
services:

  # the persistence layer
  couchbase:
    container_name: hns_couchbase
    image: mychiara/docker-couchbase-server:0.0.4
    restart: always
    ports:
      - 8091:8091
      - 8092:8092
      - 8093:8093
      - 11210:11210
    environment:
    - CB_USER=pacman
    - CB_BUCKET=hide_n_seek

  # the nodejs application backend server
  nodejs:
    container_name: hns_node
    image: phusion/passenger-nodejs:0.9.19
    restart: always
    links:
      - couchbase